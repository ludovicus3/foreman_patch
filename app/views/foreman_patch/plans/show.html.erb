<%= webpacked_plugins_js_for :foreman_patch %>

<% title @plan.name %>

<% stylesheet 'foreman_patch/foreman_patch' %>

<% title_actions(link_to(_('Create Window'), new_plan_window_plan_path(plan_id: @plan.id),
                         class: 'btn btn-default',
                         title: _('Create a new window for this plan')),
                 link_to(_('Edit'), edit_plan_path(@plan),
                         class: 'btn btn-default',
                         title: _('Edit propries of this plan')))
%>

<%= react_component('Calendar', { 
  range: { 
    start: @plan.start_date,
    end: @plan.next_cycle_start - 1.day 
  },
  events: @plan.window_plans.map { |window| { date: window.start_at, event: window.name } },
}) %>
